<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABISMO AZUL</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<style>
:root {
    --primary-color: #080808;
    --secondary-color: #00b4d8;
    --accent-color: #90e0ef;
    --text-color: #caf0f8;
    --bg-color: #03045e;
}

body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 0;
    color: var(--text-color);
    overflow-x: hidden;
}

.background-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('https://images.unsplash.com/photo-1439405326853-58f2724f795b?w=1200&h=800&fit=crop');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    filter: blur(3px) brightness(0.7);
    z-index: -1;
}

header {
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(10px);
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.logo {
    display: flex;
    align-items: center;
}

.logo h1 {
    font-family: 'Poppins', sans-serif;
    font-size: 1.8em;
    margin: 0;
    margin-left: 10px;
    font-weight: 600;
}

nav .nav-button {
    background-color: transparent;
    color: var(--text-color);
    border: 2px solid var(--accent-color);
    padding: 10px 20px;
    margin: 0 5px;
    cursor: pointer;
    font-size: 1em;
    font-family: 'Poppins', sans-serif;
    border-radius: 50px;
    transition: all 0.3s ease;
}

nav .nav-button:hover, nav .nav-button.active {
    background-color: var(--accent-color);
    color: var(--bg-color);
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

main {
    padding: 2rem;
    display: flex;
    justify-content: center;
}

.content-wrapper {
    max-width: 900px;
    width: 100%;
}

.content-section {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(15px);
    padding: 2.5rem;
    border-radius: 20px;
    margin-top: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    animation: fadeIn 0.8s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.content-section h2 {
    margin-top: 0;
    font-family: 'Poppins', sans-serif;
    color: var(--accent-color);
    font-size: 2.2em;
    border-bottom: 2px solid var(--secondary-color);
    padding-bottom: 10px;
    margin-bottom: 20px;
}

.content-section p {
    font-size: 1.1em;
    line-height: 1.7;
}

.content-section img {
    max-width: 100%;
    height: auto;
    border-radius: 15px;
    margin-top: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}
/* (Mantenha todo o CSS anterior) */

/* Adicione este c√≥digo ao final do seu arquivo style.css */

.image-gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 15px; /* Espa√ßamento entre as imagens */
    justify-content: center;
    margin-top: 25px;
}

.image-gallery img {
    width: 100%;
    max-width: 250px; /* Largura m√°xima para cada imagem */
    height: 180px; /* Altura fixa para manter a uniformidade */
    object-fit: cover; /* Garante que a imagem cubra a √°rea sem distorcer */
    border-radius: 10px;
    border: 2px solid var(--accent-color);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.image-gallery img:hover {
    transform: scale(1.05); /* Efeito de zoom ao passar o mouse */
    box-shadow: 0 8px 25px rgba(0, 180, 216, 0.5);
}
/* (Mantenha todo o CSS anterior e das galerias) */

/* Adicione este c√≥digo ao final do seu arquivo style.css */

.editor-panel {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.editor-panel label {
    font-family: 'Poppins', sans-serif;
    font-size: 1.1em;
    color: var(--accent-color);
}

.editor-panel select, .editor-panel textarea {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid var(--secondary-color);
    background-color: rgba(0, 0, 0, 0.2);
    color: var(--text-color);
    font-size: 1em;
    font-family: 'Roboto', sans-serif;
}

.editor-panel select {
    cursor: pointer;
}

.editor-panel textarea {
    resize: vertical;
}

#save-button {
    padding: 12px 25px;
    border-radius: 50px;
    border: none;
    background-color: var(--primary-color);
    color: white;
    font-family: 'Poppins', sans-serif;
    font-size: 1em;
    cursor: pointer;
    transition: all 0.3s ease;
    align-self: flex-start; /* Alinha o bot√£o √† esquerda */
}

#save-button:hover {
    background-color: var(--secondary-color);
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

#save-status {
    margin-top: 10px;
    color: var(--accent-color);
    font-weight: bold;
    min-height: 20px;
}
/* (Mantenha todo o CSS anterior) */

/* Adicione/Modifique estas regras no seu arquivo style.css */

.editor-divider {
    border: none;
    border-top: 1px solid var(--secondary-color);
    margin: 25px 0;
}

/* Estilo para o input de arquivo */
#image-uploader {
    background-color: rgba(0,0,0,0.2);
    border: 1px solid var(--secondary-color);
    padding: 10px;
    border-radius: 8px;
    cursor: pointer;
}
#image-uploader::file-selector-button {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}
#image-uploader::file-selector-button:hover {
    background-color: var(--secondary-color);
}

/* Bot√µes de A√ß√£o */
#save-text-button, #add-image-button {
    padding: 12px 25px;
    border-radius: 50px;
    border: none;
    background-color: var(--primary-color);
    color: white;
    font-family: 'Poppins', sans-serif;
    font-size: 1em;
    cursor: pointer;
    transition: all 0.3s ease;
    align-self: flex-start;
}
#save-text-button:hover, #add-image-button:hover {
    background-color: var(--secondary-color);
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

#status-message {
    margin-top: 10px;
    color: var(--accent-color);
    font-weight: bold;
    min-height: 20px;
}

/* Estilos da Galeria Din√¢mica */
.image-gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    margin-top: 25px;
}

.gallery-item {
    position: relative;
    width: 250px;
    height: 180px;
}

.gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 10px;
    border: 2px solid var(--accent-color);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease;
}

.gallery-item:hover img {
    transform: scale(1.05);
}

.remove-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background-color: rgba(255, 0, 0, 0.7);
    color: white;
    border: none;
    border-radius: 50%;
    width: 25px;
    height: 25px;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.gallery-item:hover .remove-btn {
    opacity: 1;
}
/* (Mantenha todo o CSS anterior) */

/* Adicione/Modifique estas regras no seu arquivo style.css */

.management-group {
    background: rgba(0, 0, 0, 0.2);
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
}

.management-group h3 {
    margin-top: 0;
    color: var(--secondary-color);
    font-family: 'Poppins', sans-serif;
}

#new-topic-name, #rename-topic-input {
    width: calc(100% - 24px);
    padding: 12px;
    border-radius: 8px;
    border: 1px solid var(--secondary-color);
    background-color: rgba(0, 0, 0, 0.2);
    color: var(--text-color);
    font-size: 1em;
    margin-bottom: 10px;
}

#create-topic-button, .topic-item-actions button {
    padding: 10px 20px;
    border-radius: 50px;
    border: none;
    background-color: var(--primary-color);
    color: white;
    font-family: 'Poppins', sans-serif;
    cursor: pointer;
    transition: all 0.3s ease;
}
#create-topic-button:hover {
     background-color: var(--secondary-color);
}

#existing-topics-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.topic-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: rgba(255, 255, 255, 0.1);
    padding: 10px 15px;
    border-radius: 8px;
}

.topic-item-actions button {
    margin-left: 8px;
    font-size: 0.9em;
    padding: 8px 15px;
}

.topic-item-actions .delete-btn {
    background-color: #c0392b;
}
.topic-item-actions .delete-btn:hover {
    background-color: #e74c3c;
}

/* Estilos para o Modal de Edi√ß√£o (dialog) */
#rename-modal {
    background: rgba(3, 4, 94, 0.9);
    backdrop-filter: blur(10px);
    border: 1px solid var(--secondary-color);
    border-radius: 15px;
    color: var(--text-color);
    padding: 25px;
    width: 400px;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

#rename-modal::backdrop {
    background-color: rgba(0, 0, 0, 0.6);
}

#rename-modal h3 {
    margin-top: 0;
    font-family: 'Poppins', sans-serif;
}

.modal-actions {
    margin-top: 20px;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

.modal-actions button {
    padding: 10px 20px;
    border-radius: 50px;
    border: none;
    cursor: pointer;
    font-family: 'Poppins', sans-serif;
}

#cancel-rename-button {
    background-color: #7f8c8d;
    color: white;
}
#confirm-rename-button {
    background-color: var(--primary-color);
    color: white;
}
/* --- CSS RESET --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #0077b6;
    --secondary-color: #00b4d8;
    --accent-color: #90e0ef;
    --text-color: #caf0f8;
    --bg-color: #03045e;
    --danger-color: #e74c3c;
}

body {
    font-family: 'Roboto', sans-serif;
    color: var(--text-color);
    background-color: var(--bg-color);
}

.background-container {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    background-size: cover; background-position: center; background-attachment: fixed;
    filter: blur(3px) brightness(0.7);
    z-index: -1;
    transition: background-image 0.5s ease-in-out;
}

header {
    background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px);
    padding: 1rem 2rem; display: flex;
    justify-content: space-between; align-items: center;
    position: sticky; top: 0;
    z-index: 999;
}

.logo { display: flex; align-items: center; gap: 10px; }
.logo h1 { font-family: 'Poppins', sans-serif; font-size: 1.8em; }
nav { display: flex; flex-wrap: wrap; gap: 10px; }

.nav-button {
    background-color: transparent; color: var(--text-color);
    border: 2px solid var(--accent-color); padding: 10px 20px;
    cursor: pointer; font-size: 1em;
    font-family: 'Poppins', sans-serif; border-radius: 50px;
    transition: all 0.3s ease;
}
.nav-button:hover, .nav-button.active {
    background-color: var(--accent-color);
    color: var(--bg-color);
    transform: translateY(-3px);
}
.nav-button[data-content="gerenciar"] {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}
.nav-button[data-content="gerenciar"]:hover {
    background-color: var(--secondary-color);
    border-color: var(--secondary-color);
}

main { padding: 2rem; }
.content-wrapper { max-width: 900px; margin: 0 auto; }
.content-section {
    overflow: auto; background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(15px); padding: 2.5rem;
    border-radius: 20px; margin-top: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}
.management-group {
    background: rgba(0, 0, 0, 0.2); padding: 20px;
    border-radius: 10px; margin-bottom: 20px;
}
.management-group h3 { margin-top: 0; margin-bottom: 15px; color: var(--secondary-color); }
.management-group hr { border: none; border-top: 1px solid rgba(255,255,255,0.2); margin: 20px 0; }

input, textarea, select, button { font-family: inherit; }
input[type="text"], input[type="url"], textarea, select {
    width: 100%; padding: 12px; border-radius: 8px;
    border: 1px solid var(--secondary-color);
    background-color: rgba(0, 0, 0, 0.3); color: var(--text-color);
    font-size: 1em; margin-top: 5px;
}
.management-group button {
    border: none; padding: 10px 20px; border-radius: 50px;
    background-color: var(--primary-color); color: white;
    margin-top: 10px; transition: background-color 0.3s; cursor: pointer;
}
.management-group button:hover { background-color: var(--secondary-color); }
.delete-btn { background-color: var(--danger-color) !important; }
#reset-background-btn { background-color: #556270; }

figure {
    margin: 10px 0 20px 0; padding: 5px; border: 2px solid var(--accent-color);
    border-radius: 10px; background: rgba(255, 255, 255, 0.1); position: relative;
}
figure img { width: 100%; display: block; border-radius: 6px; }
figure figcaption { padding: 10px; text-align: center; font-style: italic; color: var(--accent-color); }
.remove-btn {
    position: absolute; top: 10px; right: 10px; background-color: var(--danger-color);
    color: white; border: none; border-radius: 50%; width: 28px; height: 28px;
    opacity: 0; transition: opacity 0.3s; display: flex; align-items: center; justify-content: center; cursor: pointer;
}
figure:hover .remove-btn { opacity: 1; }

.img-align-center { max-width: 90%; margin-left: auto; margin-right: auto; }
.img-align-left { float: left; max-width: 45%; margin-right: 20px; margin-bottom: 10px; }
.img-align-right { float: right; max-width: 45%; margin-left: 20px; margin-bottom: 10px; }

dialog { background: #02044a; border: 1px solid var(--secondary-color); border-radius: 15px; color: var(--text-color); padding: 25px; }
dialog::backdrop { background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px); }
.modal-actions { margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px; }
/* --- CSS RESET E VARI√ÅVEIS GLOBAIS --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #0077b6;
    --secondary-color: #00b4d8;
    --accent-color: #90e0ef;
    --text-color: #caf0f8;
    --bg-color: #03045e;
    --danger-color: #e74c3c;
}

body {
    font-family: 'Roboto', sans-serif;
    color: var(--text-color);
    background-color: var(--bg-color);
}

/* --- ELEMENTOS DE BASE E LAYOUT --- */
.background-container {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    background-size: cover; background-position: center; background-attachment: fixed;
    filter: blur(3px) brightness(0.7);
    z-index: -1;
    transition: background-image 0.5s ease-in-out;
}

header {
    background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px);
    padding: 1rem 2rem; display: flex;
    justify-content: space-between; align-items: center;
    position: sticky; top: 0;
    z-index: 999;
}

main { padding: 2rem; }
.content-wrapper { max-width: 900px; margin: 0 auto; }
.content-section {
    overflow: auto; background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(15px); padding: 2.5rem;
    border-radius: 20px; margin-top: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* --- CABE√áALHO E NAVEGA√á√ÉO --- */
.logo { display: flex; align-items: center; gap: 10px; }
.logo h1 { font-family: 'Poppins', sans-serif; font-size: 1.8em; }
nav { display: flex; flex-wrap: wrap; gap: 10px; }

.nav-button {
    background-color: transparent; color: var(--text-color);
    border: 2px solid var(--accent-color); padding: 10px 20px;
    cursor: pointer; font-size: 1em;
    font-family: 'Poppins', sans-serif; border-radius: 50px;
    transition: all 0.3s ease;
}
.nav-button:hover, .nav-button.active {
    background-color: var(--accent-color);
    color: var(--bg-color);
    transform: translateY(-3px);
}
.nav-button[data-content="gerenciar"] {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}
.nav-button[data-content="gerenciar"]:hover {
    background-color: var(--secondary-color);
    border-color: var(--secondary-color);
}

/* --- PAINEL DE GERENCIAMENTO --- */
.management-group {
    background: rgba(0, 0, 0, 0.2); padding: 20px;
    border-radius: 10px; margin-bottom: 20px;
}
.management-group h3 { margin-top: 0; margin-bottom: 15px; color: var(--secondary-color); }
.management-group hr { border: none; border-top: 1px solid rgba(255,255,255,0.2); margin: 20px 0; }

input, textarea, select, button { font-family: inherit; }
input[type="text"], input[type="url"], textarea, select {
    width: 100%; padding: 12px; border-radius: 8px;
    border: 1px solid var(--secondary-color);
    background-color: rgba(0, 0, 0, 0.3); color: var(--text-color);
    font-size: 1em; margin-top: 5px;
}
.management-group button {
    border: none; padding: 10px 20px; border-radius: 50px;
    background-color: var(--primary-color); color: white;
    margin-top: 10px; transition: background-color 0.3s; cursor: pointer;
}
.management-group button:hover { background-color: var(--secondary-color); }
.delete-btn { background-color: var(--danger-color) !important; }
#reset-background-btn { background-color: #556270; }

#existing-topics-list { margin-top: 15px; display: flex; flex-direction: column; gap: 10px; }
.topic-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;}
.topic-item-actions button { margin-left: 8px; font-size: 0.9em; padding: 8px 15px; }

/* --- GALERIA DE IMAGENS --- */
figure {
    margin: 10px 0 20px 0; padding: 5px; border: 2px solid var(--accent-color);
    border-radius: 10px; background: rgba(255, 255, 255, 0.1); position: relative;
}
figure img { width: 100%; display: block; border-radius: 6px; }
figure figcaption { padding: 10px; text-align: center; font-style: italic; color: var(--accent-color); }
.remove-btn {
    position: absolute; top: 10px; right: 10px; background-color: var(--danger-color);
    color: white; border: none; border-radius: 50%; width: 28px; height: 28px;
    opacity: 0; transition: opacity 0.3s; display: flex; align-items: center; justify-content: center; cursor: pointer;
}
figure:hover .remove-btn { opacity: 1; }

.img-align-center { max-width: 90%; margin-left: auto; margin-right: auto; }
.img-align-left { float: left; max-width: 45%; margin-right: 20px; margin-bottom: 10px; }
.img-align-right { float: right; max-width: 45%; margin-left: 20px; margin-bottom: 10px; }

/* --- MODAL (dialog) --- */
dialog { background: #02044a; border: 1px solid var(--secondary-color); border-radius: 15px; color: var(--text-color); padding: 25px; }
dialog::backdrop { background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px); }
.modal-actions { margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px; }


/* --- NOVO: ESTILOS PARA LINKS DA P√ÅGINA INICIAL --- */
#p-home h4 {
    margin-top: 30px;
    font-family: 'Poppins', sans-serif;
    color: var(--accent-color);
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    padding-top: 20px;
}

.home-links-container {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-top: 20px;
}

.home-topic-link {
    display: inline-block;
    padding: 12px 25px;
    background-color: var(--primary-color);
    color: white;
    text-decoration: none;
    border-radius: 50px;
    font-family: 'Poppins', sans-serif;
    transition: all 0.3s ease;
}

.home-topic-link:hover {
    background-color: var(--secondary-color);
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}
/* --- CSS RESET E VARI√ÅVEIS GLOBAIS --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #0077b6;
    --secondary-color: #00b4d8;
    --accent-color: #90e0ef;
    --text-color: #caf0f8;
    --bg-color: #03045e;
    --danger-color: #e74c3c;
}

body {
    font-family: 'Roboto', sans-serif;
    color: var(--text-color);
    background-color: var(--bg-color);
}

/* --- ELEMENTOS DE BASE E LAYOUT --- */
.background-container {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    background-size: cover; background-position: center; background-attachment: fixed;
    filter: blur(3px) brightness(0.7);
    z-index: -1;
    transition: background-image 0.5s ease-in-out;
}

header {
    background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px);
    padding: 1rem 2rem; display: flex;
    justify-content: space-between; align-items: center;
    position: sticky; top: 0;
    z-index: 999;
}

main { padding: 2rem; }
.content-wrapper { max-width: 900px; margin: 0 auto; }
.content-section {
    overflow: auto; background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(15px); padding: 2.5rem;
    border-radius: 20px; margin-top: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* --- CABE√áALHO E NAVEGA√á√ÉO --- */
.logo { display: flex; align-items: center; gap: 10px; }
.logo h1 { font-family: 'Poppins', sans-serif; font-size: 1.8em; }
nav { display: flex; flex-wrap: wrap; gap: 10px; }

.nav-button {
    background-color: transparent; color: var(--text-color);
    border: 2px solid var(--accent-color); padding: 10px 20px;
    cursor: pointer; font-size: 1em;
    font-family: 'Poppins', sans-serif; border-radius: 50px;
    transition: all 0.3s ease;
}
.nav-button:hover, .nav-button.active {
    background-color: var(--accent-color);
    color: var(--bg-color);
    transform: translateY(-3px);
}
.nav-button[data-content="gerenciar"] {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}
.nav-button[data-content="gerenciar"]:hover {
    background-color: var(--secondary-color);
    border-color: var(--secondary-color);
}

/* --- PAINEL DE GERENCIAMENTO --- */
.management-group {
    background: rgba(0, 0, 0, 0.2); padding: 20px;
    border-radius: 10px; margin-bottom: 20px;
}
.management-group h3 { margin-top: 0; margin-bottom: 15px; color: var(--secondary-color); }
.management-group hr { border: none; border-top: 1px solid rgba(255,255,255,0.2); margin: 20px 0; }

input, textarea, select, button { font-family: inherit; }
input[type="text"], input[type="url"], textarea, select {
    width: 100%; padding: 12px; border-radius: 8px;
    border: 1px solid var(--secondary-color);
    background-color: rgba(0, 0, 0, 0.3); color: var(--text-color);
    font-size: 1em; margin-top: 5px;
}
.management-group button {
    border: none; padding: 10px 20px; border-radius: 50px;
    background-color: var(--primary-color); color: white;
    margin-top: 10px; transition: background-color 0.3s; cursor: pointer;
}
.management-group button:hover { background-color: var(--secondary-color); }
.delete-btn { background-color: var(--danger-color) !important; }
#reset-background-btn { background-color: #556270; }

#existing-topics-list { margin-top: 15px; display: flex; flex-direction: column; gap: 10px; }
.topic-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;}
.topic-item-actions button { margin-left: 8px; font-size: 0.9em; padding: 8px 15px; }

/* --- GALERIA DE IMAGENS --- */
figure {
    margin: 10px 0 20px 0; padding: 5px; border: 2px solid var(--accent-color);
    border-radius: 10px; background: rgba(255, 255, 255, 0.1); position: relative;
}
figure img { width: 100%; display: block; border-radius: 6px; }
figure figcaption { padding: 10px; text-align: center; font-style: italic; color: var(--accent-color); }
.remove-btn {
    position: absolute; top: 10px; right: 10px; background-color: var(--danger-color);
    color: white; border: none; border-radius: 50%; width: 28px; height: 28px;
    opacity: 0; transition: opacity 0.3s; display: flex; align-items: center; justify-content: center; cursor: pointer;
}
figure:hover .remove-btn { opacity: 1; }

.img-align-center { max-width: 90%; margin-left: auto; margin-right: auto; }
.img-align-left { float: left; max-width: 45%; margin-right: 20px; margin-bottom: 10px; }
.img-align-right { float: right; max-width: 45%; margin-left: 20px; margin-bottom: 10px; }

/* --- MODAL (dialog) --- */
dialog { background: #02044a; border: 1px solid var(--secondary-color); border-radius: 15px; color: var(--text-color); padding: 25px; }
dialog::backdrop { background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px); }
.modal-actions { margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px; }


/* --- NOVO: ESTILOS PARA LINKS DA P√ÅGINA INICIAL --- */
#p-home h4 {
    margin-top: 30px;
    font-family: 'Poppins', sans-serif;
    color: var(--accent-color);
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    padding-top: 20px;
}

.home-links-container {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-top: 20px;
}

.home-topic-link {
    display: inline-block;
    padding: 12px 25px;
    background-color: var(--primary-color);
    color: white;
    text-decoration: none;
    border-radius: 50px;
    font-family: 'Poppins', sans-serif;
    transition: all 0.3s ease;
}

.home-topic-link:hover {
    background-color: var(--secondary-color);
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}
</style>
</head>
<body>

    <div class="background-container"></div>

    <header>
        <div class="logo">
            <i class="fa-solid fa-water"></i>
            <h1 id="site-main-title">ABISMO AZUL</h1>
        </div>
        <nav id="main-nav">
            <!-- Bot√µes ser√£o gerados aqui -->
        </nav>
    </header>

    <main id="content-area">
        <div class="content-wrapper" id="content-wrapper">
            <!-- Se√ß√µes de conte√∫do ser√£o geradas aqui -->
            <section class="content-section" id="gerenciar-content" style="display: none;">
                <h2>Painel de Gerenciamento</h2>
                <div class="management-group">
                    <h3>Configura√ß√µes Gerais</h3>
                    <input type="text" id="site-title-input" placeholder="T√≠tulo do Site">
                    <button id="save-site-title-btn">Salvar T√≠tulo</button>
                    <hr>
                    <input type="url" id="background-url-input" placeholder="URL da Imagem de Fundo">
                    <button id="save-background-btn">Salvar Fundo</button>
                    <button id="reset-background-btn">Fundo Padr√£o</button>
                </div>
                
                <div class="management-group">
                    <h3>Gerenciar T√≥picos</h3>
                    <input type="text" id="new-topic-name" placeholder="Nome do Novo T√≥pico">
                    <button id="create-topic-button">Criar T√≥pico</button>
                    <div id="existing-topics-list"></div>
                </div>
                
                <div class="management-group">
                    <h3>Editar Conte√∫do do T√≥pico</h3>
                    <div class="editor-panel">
                        <select id="topic-selector"></select>
                        <textarea id="content-editor" rows="10"></textarea>
                        <button id="save-text-button">Salvar Texto</button>
                        <hr>
                        <label>Adicionar nova imagem:</label>
                        <input type="file" id="image-uploader" accept="image/*">
                        <input type="text" id="image-caption-input" placeholder="Legenda da imagem (opcional)">
                        <select id="image-align-select">
                            <option value="center">Alinhar ao Centro</option>
                            <option value="left">Alinhar √† Esquerda</option>
                            <option value="right">Alinhar √† Direita</option>
                        </select>
                        <button id="add-image-button">Adicionar Imagem</button>
                        <p id="status-message"></p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <dialog id="rename-modal">
        <h3>Renomear T√≥pico</h3>
        <input type="text" id="rename-topic-input">
        <div class="modal-actions">
            <button id="cancel-rename-button">Cancelar</button>
            <button id="confirm-rename-button">Salvar</button>
        </div>
    </dialog>

    <script>
document.addEventListener('DOMContentLoaded', () => {

    // 1. SELETORES DE ELEMENTOS DO DOM
    // Centraliza todos os elementos da p√°gina em um √∫nico objeto para f√°cil acesso e manuten√ß√£o.
    const dom = {
        mainNav: document.getElementById('main-nav'),
        contentWrapper: document.getElementById('content-wrapper'),
        manageContentSection: document.getElementById('gerenciar-content'),
        siteMainTitle: document.getElementById('site-main-title'),
        siteTitleInput: document.getElementById('site-title-input'),
        saveSiteTitleBtn: document.getElementById('save-site-title-btn'),
        backgroundUrlInput: document.getElementById('background-url-input'),
        saveBackgroundBtn: document.getElementById('save-background-btn'),
        resetBackgroundBtn: document.getElementById('reset-background-btn'),
        backgroundContainer: document.querySelector('.background-container'),
        newTopicNameInput: document.getElementById('new-topic-name'),
        createTopicButton: document.getElementById('create-topic-button'),
        existingTopicsList: document.getElementById('existing-topics-list'),
        topicSelector: document.getElementById('topic-selector'),
        contentEditor: document.getElementById('content-editor'),
        saveTextButton: document.getElementById('save-text-button'),
        imageUploader: document.getElementById('image-uploader'),
        imageCaptionInput: document.getElementById('image-caption-input'),
        imageAlignSelect: document.getElementById('image-align-select'),
        addImageButton: document.getElementById('add-image-button'),
        statusMessage: document.getElementById('status-message'),
        renameModal: document.getElementById('rename-modal'),
        renameInput: document.getElementById('rename-topic-input'),
        cancelRenameBtn: document.getElementById('cancel-rename-button'),
        confirmRenameBtn: document.getElementById('confirm-rename-button')
    };
    const defaultBackground = 'url("https://i.pinimg.com/736x/65/83/19/658319826413615941d314163a19537b.jpg")';
    let currentTopicToRename = null; // Vari√°vel para guardar o t√≥pico que est√° sendo renomeado

    // 2. FUN√á√ïES DE DADOS (GERENCIAMENTO DO localStorage)
    // Fun√ß√µes que leem e escrevem os dados do site no armazenamento local do navegador.

    const getSiteSettings = () => JSON.parse(localStorage.getItem('siteSettings')) || { title: 'ABISMO AZUL', background: defaultBackground };
    const saveSiteSettings = (settings) => localStorage.setItem('siteSettings', JSON.stringify(settings));

    const getTopicList = () => JSON.parse(localStorage.getItem('topicList')) || ['home','animais','corais','baleia','golfinho','tartaruga','lagosta','tubarao','peixes','crustaceos','moluscos'];
    const saveTopicList = (list) => localStorage.setItem('topicList', JSON.stringify(list));

    const getTopicData = (topicId) => {
        const data = localStorage.getItem(topicId);
        if (data) {
            let parsedData = JSON.parse(data);
            // Migra√ß√£o: Converte o formato antigo de imagens (apenas strings) para o novo (objetos com src, legenda, etc.)
            if (parsedData.images && parsedData.images.length > 0 && typeof parsedData.images[0] === 'string') {
                parsedData.images = parsedData.images.map(src => ({ src, caption: '', align: 'center' }));
                saveTopicData(topicId, parsedData); // Salva os dados j√° convertidos
            }
            return parsedData;
        }
        // Se n√£o houver dados salvos, retorna um conte√∫do padr√£o para os t√≥picos iniciais
        switch(topicId) {
            case 'home': return { name: 'In√≠cio', text: `Bem-vindo! Este site √© totalmente customiz√°vel. Use o bot√£o "Gerenciar" para editar o conte√∫do ou navegue pelos t√≥picos abaixo.`, images: [] };
            case 'animais': return { name: 'Animais', text: `Os oceanos abrigam uma incr√≠vel diversidade de animais, desde os gigantes gentis como as baleias at√© os mestres da camuflagem como os polvos.`, images: [] };
            case 'corais': return { name: 'Corais', text: `RECIFE DE CORAIS

 O que s√£o?
Corais
Corais s√£o animais marinhos invertebrados, pertencentes ao filo Cnidaria.Vivem em col√¥nias e constroem estruturas calc√°rias ao longo do tempo.

Existem dois tipos principais:
-Corais duros (hermat√≠picos): respons√°veis pela forma√ß√£o dos recifes.
-Corais moles (ahermat√≠picos): n√£o formam recifes, mas ainda contribuem para o ecossistema.

Recifes de Coral
S√£o forma√ß√µes subaqu√°ticas feitas, principalmente, de corais duros.
Crescem lentamente e podem levar milhares de anos para se formar.
S√£o encontrados em √°guas tropicais rasas, quentes e claras ‚Äî geralmente entre os tr√≥picos de C√¢ncer e Capric√≥rnio.

 IMPORT√ÇNCIA dos Recifes 
Biodiversidade: Abrigam cerca de 25% de toda a vida marinha, mesmo cobrindo menos de 1% do fundo oce√¢nico.
Prote√ß√£o Costeira: Atuam como barreiras naturais, reduzindo a for√ßa das ondas e prevenindo eros√µes.
Economia: Geram bilh√µes em turismo, pesca e pesquisa cient√≠fica.

Fonte de Recursos Medicinais: Muitos compostos para medicamentos v√™m de organismos encontrados nesses ecossistemas.

 Amea√ßas aos Recifes 
Aquecimento global: provoca o branqueamento dos corais (bleaching), quando perdem suas algas simbi√≥ticas (zooxantelas) e ficam vulner√°veis.
Polui√ß√£o: esgoto, pl√°sticos, produtos qu√≠micos agr√≠colas.

Pesca predat√≥ria e  o turismo.
Acidifica√ß√£o dos oceanos: reduz a capacidade de calcifica√ß√£o dos corais.

CURIOSIDADE
A Grande Barreira de Coral, na Austr√°lia, √© o maior sistema de recifes do mundo, vis√≠vel at√© do espa√ßo!
Corais t√™m uma rela√ß√£o simbi√≥tica com algas microsc√≥picas chamadas zooxantelas, que lhes fornecem energia por meio da fotoss√≠ntese.
`, images: [] };

            case 'baleia': return { 
                name: 'Baleia', 
                text: `üêã Baleia
As baleias-jubarte (Megaptera novaeangliae) s√£o mam√≠feros marinhos fascinantes, conhecidos por seus saltos acrob√°ticos, cantos complexos e longas migra√ß√µes. Aqui est√£o alguns pontos principais sobre elas:

üêã Caracter√≠sticas f√≠sicas
Podem atingir at√© 16 metros de comprimento e pesar cerca de 30 a 40 toneladas.
T√™m nadadeiras peitorais muito longas, que podem medir at√© 5 metros ‚Äî cerca de um ter√ßo do comprimento do corpo.
A cor √© geralmente preta com manchas brancas no ventre e nas nadadeiras.

üåä Comportamento
S√£o conhecidas por seus saltos fora d'√°gua e batidas com a cauda e nadadeiras, comportamentos ainda n√£o totalmente compreendidos (pode ser comunica√ß√£o, corte ou remo√ß√£o de parasitas).
Os machos cantam can√ß√µes longas e complexas durante a temporada de acasalamento. Cada popula√ß√£o tem seu ‚Äúdialeto‚Äù.
üêü Alimenta√ß√£o
Alimentam-se principalmente de krill (pequenos crust√°ceos) e peixes pequenos.
Usam uma t√©cnica chamada rede de bolhas, na qual soltam bolhas em espiral para cercar o cardume e ent√£o se alimentam com a boca aberta.

üó∫Ô∏è Migra√ß√£o
Fazem uma das maiores migra√ß√µes do reino animal: passam o ver√£o em √°guas frias (como a Ant√°rtida) se alimentando e migram para √°guas tropicais ou subtropicais no inverno para reprodu√ß√£o e nascimento dos filhotes.
No Brasil, elas migram para a regi√£o de Abrolhos (Bahia) entre junho e novembro.

üë∂ Reprodu√ß√£o
A gesta√ß√£o dura cerca de 11 a 12 meses.
Os filhotes nascem com cerca de 4 a 5 metros de comprimento e podem pesar at√© 1 tonelada.
Mamam por quase um ano e crescem rapidamente nos primeiros meses.

‚ö†Ô∏è Conserva√ß√£o
J√° foram intensamente ca√ßadas no s√©culo XX, levando as popula√ß√µes √† beira da extin√ß√£o.
Desde a proibi√ß√£o da ca√ßa comercial (pela morat√≥ria da Comiss√£o Baleeira Internacional), os n√∫meros est√£o se recuperando.
Hoje s√£o classificadas como pouco preocupantes pela IUCN, mas ainda enfrentam amea√ßas como:
colis√µes com navios,
polui√ß√£o sonora submarina,
emalhe em redes de pesca.
`, 
                images: [{src:'', caption:'Oceano', align:'center'}] 
            };
            case 'golfinho': return { 
                name: 'Golfinho', 
                text: `üê¨ Golfinhos ‚Äì Vis√£o Geral
üî¨ Classifica√ß√£o
Golfinhos s√£o mam√≠feros marinhos da ordem Cetacea (a mesma das baleias), subordem Odontoceti (cet√°ceos com dentes).
Existem mais de 40 esp√©cies conhecidas, sendo o golfinho-nariz-de-garrafa (Tursiops truncatus) o mais conhecido.

üìè Caracter√≠sticas f√≠sicas
Tamanho varia entre esp√©cies: de cerca de 1,5 metros a mais de 4 metros.
Corpo hidrodin√¢mico, ideal para nata√ß√£o r√°pida.
Possuem um bico alongado (em muitas esp√©cies) e uma nadadeira dorsal proeminente.
Respiram por um espir√°culo (orif√≠cio no topo da cabe√ßa).

üß† Intelig√™ncia
S√£o considerados um dos animais mais inteligentes do planeta.
Demonstram comportamento complexo: uso de ferramentas, empatia, coopera√ß√£o e at√© reconhecimento de si mesmos no espelho (autoconsci√™ncia).
Possuem uma comunica√ß√£o avan√ßada, com sons, assobios e cliques √∫nicos (como se fossem ‚Äúnomes‚Äù).

üêü Alimenta√ß√£o
Carn√≠voros, se alimentam de peixes, lulas e crust√°ceos.
Ca√ßam em grupo com t√©cnicas colaborativas, como cercar cardumes ou empurrar peixes para a superf√≠cie.
Usam ecolocaliza√ß√£o (como um sonar natural) para localizar presas e obst√°culos.

üê¨ Comportamento social
Vivem em grupos chamados de cardumes ou bandos, que podem ter de algumas dezenas at√© centenas de indiv√≠duos.
S√£o muito brincalh√µes: saltam fora d‚Äô√°gua, surfam ondas e interagem com humanos em algumas regi√µes.
Cuidam dos membros do grupo, inclusive protegendo feridos ou doentes.

üê£ Reprodu√ß√£o
A gesta√ß√£o varia de 10 a 17 meses, dependendo da esp√©cie.
Nasce um √∫nico filhote, que √© amamentado por v√°rios meses.
As m√£es s√£o muito cuidadosas e, √†s vezes, outras f√™meas ajudam a cuidar dos filhotes (como "tias").

‚ö†Ô∏è Amea√ßas e conserva√ß√£o
Captura acidental em redes de pesca √© uma das principais causas de morte.
Sofrem com polui√ß√£o marinha, ru√≠do submarino (que atrapalha a ecolocaliza√ß√£o), ca√ßa (em alguns pa√≠ses) e turismo irrespons√°vel.
Algumas esp√©cies est√£o amea√ßadas, como o golfinho-do-rio-Yangtz√© (praticamente extinto).

üß≠ Curiosidades
Alguns golfinhos vivem em rios, como o boto-cor-de-rosa da Amaz√¥nia.
S√£o capazes de ‚Äúdesligar‚Äù um lado do c√©rebro por vez durante o sono ‚Äî assim podem descansar e continuar respirando conscientemente.
S√£o usados em terapias assistidas com animais, embora esse uso seja controverso entre cientistas e defensores dos direitos dos animais.
`, 
                images: [{src:'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b', caption:'Mar aberto', align:'center'}] 
            };
            case 'tartaruga': return { 
                name: 'Tartaruga Marinha', 
                text: `üê¢ Tartarugas ‚Äì Vis√£o Geral
üìö Classifica√ß√£o
Tartarugas pertencem √† ordem Testudines.
S√£o r√©pteis, como cobras, lagartos e crocodilos.
Podem viver na terra, em √°gua doce ou no mar.
Terrestres: Jabutis.
De √°gua doce: C√°gados.
Marinhas: Tartarugas-marinhas (as maiores e mais conhecidas).
üåä Tartarugas Marinhas
Existem 7 esp√©cies de tartarugas marinhas no mundo, e todas est√£o amea√ßadas de extin√ß√£o:
Tartaruga-verde (Chelonia mydas)
Tartaruga-de-pente (Eretmochelys imbricata)
Tartaruga-cabe√ßuda (Caretta caretta)
Tartaruga-oliva (Lepidochelys olivacea)
Tartaruga-de-kemp (Lepidochelys kempii)
Tartaruga-de-couro (Dermochelys coriacea) ‚Äî a maior de todas.
Tartaruga-flatback (Natator depressus) ‚Äî encontrada na Austr√°lia.

üìè Caracter√≠sticas f√≠sicas
T√™m um casco r√≠gido que as protege de predadores. O casco √© parte do esqueleto (n√£o podem ‚Äúsair‚Äù dele).
N√£o possuem dentes, mas sim um bico c√≥rneo para cortar alimentos.
T√™m vis√£o e olfato bem desenvolvidos, e as marinhas s√£o √≥timas nadadoras.

üê£ Reprodu√ß√£o
S√£o ov√≠paras: cavam buracos na areia da praia e p√µem dezenas ou at√© 100 ovos por ninhada.
Os filhotes nascem sozinhos e correm para o mar ‚Äî muitos s√£o predados no caminho.
A temperatura da areia determina o sexo dos filhotes: mais quente = mais f√™meas.

üçÉ Alimenta√ß√£o
Variam por esp√©cie:
Tartaruga-verde: herb√≠vora (alga e capim-marinho).
Tartaruga-de-pente: come esponjas, moluscos.
Tartaruga-cabe√ßuda: crust√°ceos, moluscos de casca dura.
Tartaruga-de-couro: gelatinosos como √°guas-vivas.

üß≠ Migra√ß√£o
Fazem longas migra√ß√µes oce√¢nicas entre as √°reas de alimenta√ß√£o e de reprodu√ß√£o (√†s vezes cruzando oceanos inteiros).
T√™m um tipo de "b√∫ssola magn√©tica" natural para se orientar.

‚ö†Ô∏è Amea√ßas √†s tartarugas
As tartarugas, principalmente as marinhas, enfrentam muitas amea√ßas causadas pelos seres humanos:
Pl√°stico no oceano (confundem com alimento, como sacolas e √°guas-vivas).

Pesca acidental (presas em redes).

Polui√ß√£o luminosa nas praias, que desorienta os filhotes.

Ca√ßa ilegal (por carne, cascos e ovos).

Mudan√ßas clim√°ticas, que afetam o sexo dos filhotes e os recifes de corais.

üáßüá∑ Tartarugas no Brasil
O Brasil abriga 5 das 7 esp√©cies de tartarugas marinhas. A organiza√ß√£o Projeto TAMAR protege essas esp√©cies e atua em diversas praias do pa√≠s, como na Bahia, Sergipe, Esp√≠rito Santo e Santa Catarina.

üê¢ Curiosidades
Podem viver mais de 100 anos (principalmente jabutis).

Tartarugas marinhas sempre voltam √† praia onde nasceram para p√¥r ovos ‚Äî um instinto incr√≠vel chamado filopatria.

Apesar de lentas na terra, muitas s√£o r√°pidas e √°geis na √°gua.

N√£o t√™m cordas vocais, mas algumas esp√©cies emitem sons.

`, 
                images: [{src:'https://images.unsplash.com/photo-1469474968028-56623f02e42e', caption:'Tartaruga', align:'center'}] 
            };
            case 'lagosta': return { 
                name: 'Lagosta', 
                text: `ü¶û Lagostas ‚Äì Vis√£o Geral
üî¨ Classifica√ß√£o
S√£o crust√°ceos marinhos da ordem Decapoda (mesma de camar√µes e caranguejos).

Pertencem √† fam√≠lia Nephropidae (lagostas "verdadeiras").

Existem tamb√©m as chamadas lagostas espinhosas (como a do Brasil), que pertencem √† fam√≠lia Palinuridae ‚Äî n√£o t√™m grandes garras.

üìè Caracter√≠sticas f√≠sicas
Corpo dividido em:

Cefalot√≥rax (cabe√ßa + t√≥rax),

Abd√¥men (a parte que comemos).

T√™m dez patas (como o nome da ordem sugere).

As lagostas do Atl√¢ntico Norte (ex: Homarus americanus) t√™m grandes garras ‚Äî uma maior e forte, outra mais afiada.

As lagostas espinhosas tropicais (ex: Panulirus argus) n√£o t√™m garras, mas possuem antenas longas e espinhos protetores.

üåä Habitat
Vivem em fundos rochosos, recifes ou tocas no fundo do mar, geralmente entre 4 e 100 metros de profundidade.

Atuam como predadores noturnos.

üç§ Alimenta√ß√£o
S√£o on√≠voras: comem moluscos, vermes, peixes mortos, ouri√ßos e at√© outros crust√°ceos.

Usam as garras ou mand√≠bulas para quebrar cascos e conchas (esp√©cies com garras).

üß† Comportamento
Solit√°rias e territoriais ‚Äî protegem suas tocas de invasores.

T√™m um sistema social baseado em for√ßa e hierarquia.

Fazem muda do exoesqueleto para crescer ‚Äî processo chamado ecdise.

üê£ Reprodu√ß√£o
A f√™mea libera os ovos fertilizados que ficam presos ao seu abd√¥men por semanas ou meses.

Uma s√≥ f√™mea pode carregar milhares de ovos.

Ap√≥s o nascimento, os filhotes s√£o planct√¥nicos (flutuam no mar) por semanas antes de se assentarem no fundo.

üß≠ Curiosidades
Lagostas podem viver mais de 50 anos ‚Äî algumas at√© mais de 100.

Elas n√£o param de crescer com a idade (mas o crescimento desacelera).

Possuem um sistema circulat√≥rio aberto e sangue azul (rico em cobre, com hemocianina).

Diz-se que podem ser ‚Äúimortais biologicamente‚Äù, pois n√£o mostram sinais t√≠picos de envelhecimento ‚Äî mas morrem por doen√ßas, captura ou desgaste f√≠sico.

ü¶û Lagosta no Brasil
A principal esp√©cie capturada √© a lagosta-vermelha (Panulirus argus) e a lagosta-verde (Panulirus laevicauda).

Encontradas principalmente no Nordeste, como em Pernambuco, Cear√°, Bahia e Rio Grande do Norte.

A pesca da lagosta √© regulamentada, pois a sobrepesca amea√ßa os estoques naturais.

Existem per√≠odos de defeso (proibi√ß√£o da pesca) para permitir a reprodu√ß√£o.

‚ö†Ô∏è Amea√ßas
Pesca predat√≥ria, como uso de redes e mergulho com compressor ilegal.

Mudan√ßas clim√°ticas e polui√ß√£o do oceano afetam seu habitat e reprodu√ß√£o.

Mercado internacional e demanda por gastronomia de luxo tamb√©m pressionam os estoques.

üçΩÔ∏è Gastronomia
A lagosta √© considerada um dos frutos do mar mais valorizados do mundo.

O rabo (abd√¥men) √© a parte mais consumida.

√â preparada grelhada, cozida, no vapor ou em pratos sofisticados como lagosta thermidor.

No Brasil, √© um produto nobre, especialmente em regi√µes costeiras e tur√≠sticas.

`, 
                images: [{src:'https://images.unsplash.com/photo-1553621042-f6e147245754', caption:'Lagosta', align:'center'}] 
            };
            case 'tubarao': return { 
                name: 'Tubar√£o', 
                text: `ü¶à Tubar√µes ‚Äì Vis√£o Geral
üî¨ Classifica√ß√£o
Pertencem √† classe Chondrichthyes (peixes cartilaginosos), assim como as arraias.

Existem mais de 500 esp√©cies conhecidas.

Est√£o presentes em todos os oceanos, desde √°guas rasas tropicais at√© profundezas abissais e regi√µes polares.

üìè Caracter√≠sticas f√≠sicas
Corpo feito de cartilagem (mais leve e flex√≠vel que osso).

T√™m 5 a 7 fendas branquiais (dependendo da esp√©cie).

Possuem dentes afiados em v√°rias fileiras, que se renovam continuamente ao longo da vida.

Sentidos extremamente agu√ßados:

Olfato poderoso (detectam sangue a quil√¥metros de dist√¢ncia).

Vis√£o adaptada a diferentes n√≠veis de luz.

Ampolas de Lorenzini: sensores que captam campos el√©tricos de outros animais.

üß† Comportamento
N√£o s√£o apenas ‚Äúm√°quinas de matar‚Äù ‚Äî t√™m comportamento social complexo em algumas esp√©cies.

Muitos fazem migra√ß√µes sazonais.

Podem nadar por longas dist√¢ncias e raramente dormem como os humanos; em algumas esp√©cies, precisam nadar constantemente para respirar.

üçΩÔ∏è Alimenta√ß√£o
A dieta varia muito:

Carn√≠voros: peixes, focas, crust√°ceos, lulas, aves marinhas.

Plankt√≠voros (como o tubar√£o-baleia): alimentam-se de pl√¢ncton, filtrando √°gua.

S√£o predadores de topo, regulando popula√ß√µes e mantendo ecossistemas marinhos saud√°veis.

üê£ Reprodu√ß√£o
Reproduzem-se lentamente: muitas esp√©cies t√™m poucos filhotes e demoram anos para atingir a maturidade sexual.

Tipos de reprodu√ß√£o:

Ov√≠paros: botam ovos (ex: tubar√£o-cornudo).
Viv√≠paros: filhotes se desenvolvem na m√£e, como mam√≠feros (ex: tubar√£o-martelo).
Ovoviv√≠paros: ovos dentro da m√£e, mas sem liga√ß√£o placent√°ria (ex: tubar√£o-branco).

üåç Esp√©cies conhecidas
Esp√©cie	Caracter√≠sticas principais
Tubar√£o-branco (Carcharodon carcharias)	At√© 6 m, poderoso predador.
Tubar√£o-martelo (Sphyrna spp.)	Cabe√ßa em formato de "T" para vis√£o ampla.
Tubar√£o-tigre (Galeocerdo cuvier)	On√≠voro, pode comer quase qualquer coisa.
Tubar√£o-baleia (Rhincodon typus)	Maior peixe do mundo (at√© 12 m), filtrador.
Tubar√£o-lixa (Ginglymostoma cirratum)	Comum no Brasil, mais tranquilo e noturno.
‚ö†Ô∏è Amea√ßas aos tubar√µes
Apesar da imagem de predadores, os tubar√µes est√£o amea√ßados pelos humanos, n√£o o contr√°rio:

Pesca predat√≥ria, especialmente para a pr√°tica cruel de finning (remo√ß√£o das barbatanas).

Captura acidental em redes de pesca.

Demanda por carne e √≥leo de f√≠gado.

Destrui√ß√£o de habitats, como recifes e √°reas costeiras.

Muitas esp√©cies est√£o em risco de extin√ß√£o, segundo a IUCN.

‚ùå Mitos comuns
‚ÄúTodos os tubar√µes atacam humanos‚Äù: FALSO. A maioria das esp√©cies √© inofensiva.

Ataques s√£o rar√≠ssimos e geralmente causados por confus√£o alimentar (ex: confundir surfistas com presas).

Em m√©dia, os humanos matam cerca de 100 milh√µes de tubar√µes por ano, enquanto os tubar√µes matam menos de 10 pessoas por ano.

üáßüá∑ Tubar√µes no Brasil
Diversas esp√©cies habitam a costa brasileira, incluindo o tubar√£o-lixa, tubar√£o-martelo e tubar√£o-cabe√ßa-chata.

Algumas √°reas do Nordeste, como Recife, j√° tiveram registros de incidentes com tubar√µes ‚Äî geralmente ligados a altera√ß√µes ambientais causadas por portos e pesca excessiva.

üß† Curiosidades
Tubar√µes existem h√° mais de 400 milh√µes de anos ‚Äî mais antigos que os dinossauros.

Alguns podem brilhar no escuro (bioluminesc√™ncia).

T√™m um dos sistemas sensoriais mais avan√ßados do reino animal.

Podem regenerar dentes indefinidamente ao longo da vida.

`, 
                images: [{src:'https://images.unsplash.com/photo-1544551763-7ef0369cbd9e', caption:'Tubar√£o', align:'center'}] 
            };
            case 'peixes': return { 
                name: 'Peixes Marinhos', 
                text: `üåä Peixes de √Ågua Salgada
üî¨ O que s√£o?
Vivem em ambientes marinhos (oceanos e mares).

Existem milhares de esp√©cies, desde pequenos peixes recifais at√© grandes predadores oce√¢nicos.

üìå Exemplos comuns:
Nome comum	Nome cient√≠fico	Caracter√≠sticas principais
Atum	Thunnus spp.	R√°pido, migrador, carne valorizada
Sardinha	Sardinella spp.	Forma grandes cardumes, muito pescada
Garoupa	Epinephelus spp.	Carn√≠vora, associada a recifes
Anchova	Pomatomus saltatrix	Predadora costeira, muito esportiva
Cavalo-marinho	Hippocampus spp.	Peixe curioso, o macho "engravida"
Peixe-palha√ßo	Amphiprioninae	Vive em an√™monas, famoso pelo filme ‚ÄúNemo‚Äù
‚ö†Ô∏è Amea√ßas:
Sobrepesca, destrui√ß√£o de habitats (como recifes de corais), mudan√ßas clim√°ticas e polui√ß√£o.
nos, de pequenos recifais a grandes migradores como atuns. Importantes para alimenta√ß√£o humana e equil√≠brio ecol√≥gico.`, 
                images: [{src:'https://images.unsplash.com/photo-1535909339361-9b5b5700be44', caption:'Cardume', align:'center'}] 
            };
            case 'crustaceos': return { 
                name: 'Crust√°ceos', 
                text: `ü¶ê Crust√°ceos
üî¨ O que s√£o?
Animais invertebrados com exoesqueleto, geralmente de corpo segmentado e v√°rias patas.

A maioria vive na √°gua salgada, mas h√° esp√©cies de √°gua doce e terrestres.

üìå Exemplos principais:
Nome comum	Nome cient√≠fico	Caracter√≠sticas principais
Camar√£o	Litopenaeus spp., outros	Muito consumido, vive em √°guas rasas
Lagosta	Panulirus spp.	Crust√°ceo espinhoso, carne nobre
Siri	Callinectes spp.	Caranguejo de √°gua salgada, comest√≠vel
Caranguejo-u√ß√°	Ucides cordatus	Vive no mangue, importante na cadeia alimentar
Tatuzinho-do-mar	Ligia oceanica	Vive entre pedras no litoral, parente terrestre do tatu-bola
‚ö†Ô∏è Amea√ßas:
Pesca predat√≥ria, destrui√ß√£o de manguezais, polui√ß√£o e aquecimento dos oceanos.
rtebrados com exoesqueleto (camar√µes, caranguejos, siris e lagostas). Fundamentais nos ecossistemas costeiros e na pesca. Amea√ßas: polui√ß√£o e sobrepesca.`, 
                images: [{src:'https://images.unsplash.com/photo-1519074002996-a69e7ac46a42', caption:'Caranguejo', align:'center'}] 
            };
            case 'moluscos': return { 
                name: 'Moluscos', 
                text: `üêö  Moluscos
üî¨ O que s√£o?
Invertebrados de corpo mole, alguns com concha calc√°ria externa.

Podem ser marinhos, de √°gua doce ou terrestres.

Muitos t√™m grande import√¢ncia ecol√≥gica e econ√¥mica.

üìå Exemplos principais:
Nome comum	Nome cient√≠fico	Caracter√≠sticas principais
Polvo	Octopus spp.	Inteligente, bra√ßos com ventosas, lan√ßa tinta
Lula	Loligo spp.	√Ågil, nada por jato d‚Äô√°gua, muito pescada
Marisco/Mexilh√£o	Mytilus spp.	Vive fixo em rochas, filtra √°gua
Ostra	Crassostrea spp.	Produz p√©rolas e √© muito apreciada na culin√°ria
Nautilus	Nautilus pompilius	Molusco com concha espiral, considerado ‚Äúf√≥ssil vivo‚Äù
‚ö†Ô∏è Amea√ßas:
Acidifica√ß√£o dos oceanos (dificulta a forma√ß√£o de conchas), coleta excessiva, polui√ß√£o e perda de habitat.

üçΩÔ∏è Import√¢ncia para os humanos
Alimenta√ß√£o: S√£o fonte rica de prote√≠na, vitaminas e minerais.

Economia: Importantes para a pesca artesanal e industrial.

Ecossistemas:

Peixes regulam popula√ß√µes e mant√™m o equil√≠brio marinho.

Crust√°ceos limpam o fundo e servem de alimento para outros animais.

Moluscos filtram a √°gua e estabilizam habitats como recifes e bancos de areia.

üåé No Brasil
O litoral brasileiro abriga uma enorme biodiversidade desses grupos.

Esp√©cies como camar√£o-rosa, lagosta-vermelha, polvo, lula e garoupa s√£o muito valorizadas.

Manguezais, estu√°rios e recifes de coral s√£o √°reas cr√≠ticas para a reprodu√ß√£o e alimenta√ß√£o desses animais.

Se quiser, posso montar um guia mais detalhado sobre:

Esp√©cies comest√≠veis e como identific√°-las,

M√©todos sustent√°veis de pesca,

Curiosidades biol√≥gicas (como intelig√™ncia dos polvos),

Ou at√© receitas culin√°rias com frutos do mar.
as e mariscos. Muitos filtram √°gua e sustentam cadeias alimentares; outros s√£o altamente inteligentes (polvos). Sofrem com acidifica√ß√£o e coleta excessiva.`, 
                images: [{src:'https://images.unsplash.com/photo-1505738452392-0f035b68e5f2', caption:'Polvo', align:'center'}] 
            };

 case 'tubar√£o': return { name: 'tubar√£o', text: `ü¶à Tubar√µes ‚Äì Vis√£o Geral
üî¨ Classifica√ß√£o
Pertencem √† classe Chondrichthyes (peixes cartilaginosos), assim como as arraias.

Existem mais de 500 esp√©cies conhecidas.

Est√£o presentes em todos os oceanos, desde √°guas rasas tropicais at√© profundezas abissais e regi√µes polares.

üìè Caracter√≠sticas f√≠sicas
Corpo feito de cartilagem (mais leve e flex√≠vel que osso).

T√™m 5 a 7 fendas branquiais (dependendo da esp√©cie).

Possuem dentes afiados em v√°rias fileiras, que se renovam continuamente ao longo da vida.

Sentidos extremamente agu√ßados:

Olfato poderoso (detectam sangue a quil√¥metros de dist√¢ncia).

Vis√£o adaptada a diferentes n√≠veis de luz.

Ampolas de Lorenzini: sensores que captam campos el√©tricos de outros animais.

üß† Comportamento
N√£o s√£o apenas ‚Äúm√°quinas de matar‚Äù ‚Äî t√™m comportamento social complexo em algumas esp√©cies.

Muitos fazem migra√ß√µes sazonais.

Podem nadar por longas dist√¢ncias e raramente dormem como os humanos; em algumas esp√©cies, precisam nadar constantemente para respirar.

üçΩÔ∏è Alimenta√ß√£o
A dieta varia muito:

Carn√≠voros: peixes, focas, crust√°ceos, lulas, aves marinhas.

Plankt√≠voros (como o tubar√£o-baleia): alimentam-se de pl√¢ncton, filtrando √°gua.

S√£o predadores de topo, regulando popula√ß√µes e mantendo ecossistemas marinhos saud√°veis.

üê£ Reprodu√ß√£o
Reproduzem-se lentamente: muitas esp√©cies t√™m poucos filhotes e demoram anos para atingir a maturidade sexual.

Tipos de reprodu√ß√£o:

Ov√≠paros: botam ovos (ex: tubar√£o-cornudo).
Viv√≠paros: filhotes se desenvolvem na m√£e, como mam√≠feros (ex: tubar√£o-martelo).
Ovoviv√≠paros: ovos dentro da m√£e, mas sem liga√ß√£o placent√°ria (ex: tubar√£o-branco).

üåç Esp√©cies conhecidas
Esp√©cie	Caracter√≠sticas principais
Tubar√£o-branco (Carcharodon carcharias)	At√© 6 m, poderoso predador.
Tubar√£o-martelo (Sphyrna spp.)	Cabe√ßa em formato de "T" para vis√£o ampla.
Tubar√£o-tigre (Galeocerdo cuvier)	On√≠voro, pode comer quase qualquer coisa.
Tubar√£o-baleia (Rhincodon typus)	Maior peixe do mundo (at√© 12 m), filtrador.
Tubar√£o-lixa (Ginglymostoma cirratum)	Comum no Brasil, mais tranquilo e noturno.
‚ö†Ô∏è Amea√ßas aos tubar√µes
Apesar da imagem de predadores, os tubar√µes est√£o amea√ßados pelos humanos, n√£o o contr√°rio:

Pesca predat√≥ria, especialmente para a pr√°tica cruel de finning (remo√ß√£o das barbatanas).

Captura acidental em redes de pesca.

Demanda por carne e √≥leo de f√≠gado.

Destrui√ß√£o de habitats, como recifes e √°reas costeiras.

Muitas esp√©cies est√£o em risco de extin√ß√£o, segundo a IUCN.

‚ùå Mitos comuns
‚ÄúTodos os tubar√µes atacam humanos‚Äù: FALSO. A maioria das esp√©cies √© inofensiva.

Ataques s√£o rar√≠ssimos e geralmente causados por confus√£o alimentar (ex: confundir surfistas com presas).

Em m√©dia, os humanos matam cerca de 100 milh√µes de tubar√µes por ano, enquanto os tubar√µes matam menos de 10 pessoas por ano.

üáßüá∑ Tubar√µes no Brasil
Diversas esp√©cies habitam a costa brasileira, incluindo o tubar√£o-lixa, tubar√£o-martelo e tubar√£o-cabe√ßa-chata.

Algumas √°reas do Nordeste, como Recife, j√° tiveram registros de incidentes com tubar√µes ‚Äî geralmente ligados a altera√ß√µes ambientais causadas por portos e pesca excessiva.

üß† Curiosidades
Tubar√µes existem h√° mais de 400 milh√µes de anos ‚Äî mais antigos que os dinossauros.

Alguns podem brilhar no escuro (bioluminesc√™ncia).

T√™m um dos sistemas sensoriais mais avan√ßados do reino animal.

Podem regenerar dentes indefinidamente ao longo da vida.

Se quiser, posso te mostrar esp√©cies espec√≠ficas com fotos, mapas de ataques (educativos), dados do Brasil ou at√© curiosidades cient√≠ficas sobre comportamento e comunica√ß√£o dos tubar√µes. Tem algo que voc√™ queira saber mais?
`, images: [] };

            default: return { name: 'Novo T√≥pico', text: `Conte√∫do deste novo t√≥pico.`, images: [] };
        }
    };
    const saveTopicData = (topicId, data) => localStorage.setItem(topicId, JSON.stringify(data));

    // 3. FUN√á√ïES DE RENDERIZA√á√ÉO
    // Fun√ß√µes respons√°veis por construir ou atualizar a interface do usu√°rio na tela.

    /** Aplica as configura√ß√µes globais do site (t√≠tulo e fundo) */
    const applySiteSettings = () => {
        const settings = getSiteSettings();
        document.title = settings.title;
        dom.siteMainTitle.innerText = settings.title;
        dom.backgroundContainer.style.backgroundImage = settings.background;
        dom.siteTitleInput.value = settings.title;
        dom.backgroundUrlInput.value = (settings.background === defaultBackground) ? '' : settings.background.slice(5, -2);
    };

    /** Reconstr√≥i toda a navega√ß√£o e se√ß√µes de conte√∫do a partir dos dados salvos */
    const renderSite = () => {
        const topicList = getTopicList();
        dom.mainNav.innerHTML = '';
        dom.contentWrapper.querySelectorAll('.dynamic-section').forEach(s => s.remove());

        // Cria os elementos HTML para cada t√≥pico din√¢mico
        topicList.forEach(topicId => {
            if (!document.getElementById(`${topicId}-content`)) {
                const section = document.createElement('section');
                section.className = `content-section dynamic-section`;
                section.id = `${topicId}-content`;
                section.style.display = 'none';
                section.innerHTML = `<h2></h2><p id="p-${topicId}"></p><div class="image-gallery" id="gallery-${topicId}"></div>`;
                dom.contentWrapper.insertBefore(section, dom.manageContentSection);
            }
        });
        
        // Preenche a navega√ß√£o e o conte√∫do das se√ß√µes
        topicList.forEach(topicId => {
            const topicData = getTopicData(topicId);
            const navButton = document.createElement('button');
            navButton.className = 'nav-button';
            navButton.dataset.content = topicId;
            navButton.textContent = topicData.name;
            dom.mainNav.appendChild(navButton);
            
            document.querySelector(`#${topicId}-content h2`).innerText = topicData.name;
            document.getElementById(`p-${topicId}`).innerText = topicData.text;
            renderTopicImages(topicId, topicData.images);
        });
        
        renderHomeLinks(); // Adiciona os links din√¢micos na p√°gina inicial

        // Adiciona o bot√£o "Gerenciar" ao final da navega√ß√£o
        const manageButton = document.createElement('button');
        manageButton.className = 'nav-button';
        manageButton.dataset.content = 'gerenciar';
        manageButton.textContent = 'Gerenciar';
        dom.mainNav.appendChild(manageButton);

        bindNavEvents(); // Re-associa os eventos de clique aos bot√µes
        populateManagementPanels(); // Atualiza os pain√©is da √°rea de gerenciamento
    };

    /** Cria e insere os links de navega√ß√£o r√°pida na p√°gina inicial */
    const renderHomeLinks = () => {
        const homeParagraph = document.getElementById('p-home');
        if (!homeParagraph) return;

        const otherTopics = getTopicList().filter(id => id !== 'home');
        
        const existingText = `<p>${getTopicData('home').text}</p>`;
        let linksHTML = '';

        if (otherTopics.length > 0) {
            linksHTML = `<h4>Navegue pelos t√≥picos:</h4><div class="home-links-container">`;
            otherTopics.forEach(id => {
                linksHTML += `<a href="#" class="home-topic-link" data-target="${id}">${getTopicData(id).name}</a>`;
            });
            linksHTML += '</div>';
        }
        
        homeParagraph.innerHTML = existingText + linksHTML;

        // Adiciona os eventos de clique aos links rec√©m-criados
        homeParagraph.querySelectorAll('.home-topic-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                showSection(e.currentTarget.dataset.target);
            });
        });
    };

    /** Renderiza a galeria de imagens para um t√≥pico espec√≠fico */
    const renderTopicImages = (topicId, images) => {
        const gallery = document.getElementById(`gallery-${topicId}`);
        if (!gallery) return;
        gallery.innerHTML = '';
        images.forEach((imgData, index) => {
            const figure = document.createElement('figure');
            figure.className = `img-align-${imgData.align}`; // Classe para alinhamento (left, center, right)
            figure.innerHTML = `
                <img src="${imgData.src}" alt="${imgData.caption || ''}">
                ${imgData.caption ? `<figcaption>${imgData.caption}</figcaption>` : ''}
                <button class="remove-btn" data-index="${index}"><i class="fa-solid fa-trash-can"></i></button>`;
            gallery.appendChild(figure);
        });

        // Adiciona evento para os bot√µes de remover imagem
        gallery.querySelectorAll('.remove-btn').forEach(btn => btn.addEventListener('click', () => {
            const data = getTopicData(topicId);
            data.images.splice(btn.dataset.index, 1); // Remove a imagem pelo seu √≠ndice
            saveTopicData(topicId, data);
            renderTopicImages(topicId, data.images); // Re-renderiza a galeria
            showStatus('Imagem removida!');
        }));
    };

    // 4. FUN√á√ïES DE L√ìGICA E A√á√ïES DO USU√ÅRIO

    /** Associa o evento de clique a todos os bot√µes de navega√ß√£o */
    const bindNavEvents = () => {
        document.querySelectorAll('.nav-button').forEach(button => {
            button.addEventListener('click', () => showSection(button.dataset.content));
        });
    };

    /** Exibe uma se√ß√£o de conte√∫do e esconde as outras */
    const showSection = (sectionId) => {
        if (!sectionId || !document.getElementById(`${sectionId}-content`)) return;
        
        document.querySelectorAll('.content-section').forEach(s => s.style.display = 'none');
        document.getElementById(`${sectionId}-content`).style.display = 'block';
        
        document.querySelectorAll('.nav-button').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.content === sectionId);
        });
    };

    /** Preenche os seletores e listas no painel de gerenciamento */
    const populateManagementPanels = () => {
        const topicList = getTopicList();
        dom.topicSelector.innerHTML = '';
        dom.existingTopicsList.innerHTML = '';
        
        topicList.forEach(topicId => {
            const topicName = getTopicData(topicId).name;
            // Adiciona ao seletor de edi√ß√£o
            dom.topicSelector.add(new Option(topicName, topicId));
            
            // Adiciona √† lista de t√≥picos para gerenciar (renomear/deletar)
            const item = document.createElement('div');
            item.className = 'topic-item';
            item.innerHTML = `
                <span>${topicName}</span>
                <div class="topic-item-actions">
                    <button class="edit-btn" data-id="${topicId}">Renomear</button>
                    ${topicId !== 'home' ? `<button class="delete-btn" data-id="${topicId}">Deletar</button>` : ''}
                </div>`;
            dom.existingTopicsList.appendChild(item);
        });
        
        // Associa eventos aos bot√µes de renomear e deletar
        dom.existingTopicsList.querySelectorAll('.edit-btn').forEach(btn => btn.addEventListener('click', () => openRenameModal(btn.dataset.id)));
        dom.existingTopicsList.querySelectorAll('.delete-btn').forEach(btn => btn.addEventListener('click', () => deleteTopic(btn.dataset.id)));
        
        updateEditorPanel(); // Atualiza o editor de texto com o t√≥pico selecionado
    };

    /** Atualiza o editor de texto com o conte√∫do do t√≥pico selecionado */
    const updateEditorPanel = () => {
        const selectedTopicId = dom.topicSelector.value;
        dom.contentEditor.value = getTopicData(selectedTopicId)?.text || '';
    };

    /** Exibe uma mensagem de status tempor√°ria para o usu√°rio */
    const showStatus = (message) => {
        dom.statusMessage.innerText = message;
        setTimeout(() => { dom.statusMessage.innerText = ''; }, 3000);
    };
    
    /** Cria um novo t√≥pico */
    const createTopic = () => {
        const newName = dom.newTopicNameInput.value.trim();
        if (!newName) return alert('O nome do t√≥pico n√£o pode estar vazio.');
        
        const newId = newName.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, ''); // Cria um ID seguro
        const topicList = getTopicList();
        if (topicList.includes(newId)) return alert('Um t√≥pico com ID similar j√° existe.');
        
        topicList.push(newId);
        saveTopicList(topicList);
        saveTopicData(newId, { name: newName, text: `Conte√∫do sobre ${newName}.`, images: [] });
        
        dom.newTopicNameInput.value = '';
        renderSite();
        showStatus('T√≥pico criado!');
    };

    /** Deleta um t√≥pico existente */
    const deleteTopic = (topicId) => {
        if (!confirm(`Tem certeza que deseja deletar este t√≥pico?`)) return;
        
        saveTopicList(getTopicList().filter(id => id !== topicId));
        localStorage.removeItem(topicId); // Remove os dados do t√≥pico
        
        renderSite();
        showStatus('T√≥pico deletado!');
        showSection('home'); // Volta para a p√°gina inicial
    };

    /** Abre o modal para renomear um t√≥pico */
    const openRenameModal = (topicId) => {
        currentTopicToRename = topicId;
        dom.renameInput.value = getTopicData(topicId).name;
        dom.renameModal.showModal();
    };

    /** Confirma a a√ß√£o de renomear */
    const confirmRename = () => {
        const newName = dom.renameInput.value.trim();
        if (!newName || !currentTopicToRename) return;
        
        const data = getTopicData(currentTopicToRename);
        data.name = newName;
        saveTopicData(currentTopicToRename, data);
        
        dom.renameModal.close();
        renderSite();
        showStatus('T√≥pico renomeado!');
    };
    
    // 5. EVENT LISTENERS (Conectando tudo)
    // Conecta as a√ß√µes do usu√°rio (cliques, mudan√ßas) com as fun√ß√µes de l√≥gica.

    // Configura√ß√µes do Site
    dom.saveSiteTitleBtn.addEventListener('click', () => {
        const s = getSiteSettings();
        s.title = dom.siteTitleInput.value || 'Wiki Marinha';
        saveSiteSettings(s);
        applySiteSettings();
        showStatus('T√≠tulo atualizado!');
    });
    dom.saveBackgroundBtn.addEventListener('click', () => {
        const s = getSiteSettings();
        const url = dom.backgroundUrlInput.value.trim();
        if (url) { 
            s.background = `url("${url}")`;
            saveSiteSettings(s);
            applySiteSettings();
            showStatus('Fundo atualizado!');
        }
    });
    dom.resetBackgroundBtn.addEventListener('click', () => {
        const s = getSiteSettings();
        s.background = defaultBackground;
        saveSiteSettings(s);
        applySiteSettings();
        showStatus('Fundo restaurado!');
    });

    // Gerenciamento de T√≥picos
    dom.createTopicButton.addEventListener('click', createTopic);
    dom.topicSelector.addEventListener('change', updateEditorPanel);
    dom.cancelRenameBtn.addEventListener('click', () => dom.renameModal.close());
    dom.confirmRenameBtn.addEventListener('click', confirmRename);

    // Edi√ß√£o de Conte√∫do
    dom.saveTextButton.addEventListener('click', () => {
        const id = dom.topicSelector.value;
        const data = getTopicData(id);
        data.text = dom.contentEditor.value;
        saveTopicData(id, data);
        // Atualiza o texto na p√°gina em tempo real
        document.getElementById(`p-${id}`).innerText = data.text;
        renderHomeLinks(); // Atualiza os links caso o texto da home seja alterado
        showStatus('Texto salvo!');
    });

    // Adicionar Imagem
    dom.addImageButton.addEventListener('click', () => {
        const id = dom.topicSelector.value;
        const file = dom.imageUploader.files[0];
        if (!file || !id) return showStatus('Selecione um t√≥pico e um arquivo.');
        
        const reader = new FileReader();
        reader.onload = (e) => {
            const data = getTopicData(id);
            data.images.push({ 
                src: e.target.result, 
                caption: dom.imageCaptionInput.value.trim(), 
                align: dom.imageAlignSelect.value 
            });
            saveTopicData(id, data);
            renderTopicImages(id, data.images); // Atualiza a galeria em tempo real
            showStatus('Imagem adicionada!');
            // Limpa os campos do formul√°rio
            dom.imageUploader.value = '';
            dom.imageCaptionInput.value = '';
        };
        reader.readAsDataURL(file); // Converte a imagem para Base64
    });

    // 6. INICIALIZA√á√ÉO
    // Ponto de partida que executa o c√≥digo quando o documento est√° pronto.
    const initializeSite = () => {

        // Garante que t√≥picos padr√£o existam no 'topicList' sem apagar os j√° criados pelo usu√°rio
        try {
            const defaults = ['home','animais','corais','baleia','golfinho','tartaruga','lagosta','tubarao','peixes','crustaceos','moluscos'];
            const current = JSON.parse(localStorage.getItem('topicList')) || [];
            const merged = Array.from(new Set([...current, ...defaults]));
            if (merged.length !== current.length) {
                localStorage.setItem('topicList', JSON.stringify(merged));
            }
        } catch(e) { console.warn('N√£o foi poss√≠vel sincronizar t√≥picos padr√£o:', e); }

        applySiteSettings();
        renderSite();
        showSection('home'); // Garante que a se√ß√£o inicial seja exibida
    };

    initializeSite();
});
</script>
</body>
</html>
